<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Results | European Soccer Team Exploration</title>
  <meta name="description" content="Chapter 5 Results | European Soccer Team Exploration" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Results | European Soccer Team Exploration" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Results | European Soccer Team Exploration" />
  
  
  

<meta name="author" content="Sicheng Li, Weiyi Jiang and Xianmeng Wang" />


<meta name="date" content="2021-12-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="missing-values.html"/>
<link rel="next" href="interactive-component.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">European Soccer</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#data-description"><i class="fa fa-check"></i><b>2.1</b> Data description</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#issues-and-problems"><i class="fa fa-check"></i><b>2.2</b> Issues and Problems</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#team-attributes"><i class="fa fa-check"></i><b>3.1</b> Team attributes</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#team-attributes-1"><i class="fa fa-check"></i><b>4.1</b> Team attributes</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#player-attributes"><i class="fa fa-check"></i><b>4.2</b> Player attributes</a></li>
<li class="chapter" data-level="4.3" data-path="missing-values.html"><a href="missing-values.html#match-data"><i class="fa fa-check"></i><b>4.3</b> Match data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#player-attributes-1"><i class="fa fa-check"></i><b>5.1</b> Player Attributes</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#filtering-goalkeepers"><i class="fa fa-check"></i><b>5.1.1</b> Filtering goalkeepers</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#filtering-guards"><i class="fa fa-check"></i><b>5.1.2</b> Filtering guards</a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#gk_kicking-issue"><i class="fa fa-check"></i><b>5.1.3</b> gk_kicking issue</a></li>
<li class="chapter" data-level="5.1.4" data-path="results.html"><a href="results.html#further-exploration-of-goalkeeper"><i class="fa fa-check"></i><b>5.1.4</b> further exploration of goalkeeper</a></li>
<li class="chapter" data-level="5.1.5" data-path="results.html"><a href="results.html#further-exploration-of-guards"><i class="fa fa-check"></i><b>5.1.5</b> further exploration of guards</a></li>
<li class="chapter" data-level="5.1.6" data-path="results.html"><a href="results.html#further-exploration-of-non-guards"><i class="fa fa-check"></i><b>5.1.6</b> further exploration of non-guards</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#team-biplot"><i class="fa fa-check"></i><b>5.2</b> team biplot</a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#combine"><i class="fa fa-check"></i><b>5.3</b> Combine</a></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#a-five-factor-team-evaluation-system"><i class="fa fa-check"></i><b>5.4</b> A Five-Factor Team Evaluation System</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a>
<ul>
<li class="chapter" data-level="7.1" data-path="conclusion.html"><a href="conclusion.html#results-1"><i class="fa fa-check"></i><b>7.1</b> Results</a></li>
<li class="chapter" data-level="7.2" data-path="conclusion.html"><a href="conclusion.html#future-work"><i class="fa fa-check"></i><b>7.2</b> Future Work</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">European Soccer Team Exploration</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="results" class="section level1" number="5">
<h1><span class="header-section-number">Chapter 5</span> Results</h1>
<div id="player-attributes-1" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Player Attributes</h2>
<p>There are 183978 players in this dataframe and only about 3000 rows contain NA values. Therefore, directly dropping NA variables is feasible. After that, we sample 5000 of them for a convenient plot.</p>
<div id="filtering-goalkeepers" class="section level3" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Filtering goalkeepers</h3>
<p>We firstly check the normality of each column</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p>We firstly notice that for features starting with the characters “gk”, there is a significant deviance to normality. It is obviously because the goalkeepers are significantly better than other football players in these attributes. Since there is no information about whether one player is in charge of saving the goal. We decided to implement K-means clustering to classify them. We will not elaborate the specific ways to solve the problem since the project focuses on EDA. Before we implement this, we take a look at the histograms of “gk” features:</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>It is easy to notice that for these features, there are two clusters and probably the higher score is for goalkeepers and the lower score is for other players.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>We notice that except gk_kicking, all clusters clearly separated the supposed goalkeepers and other players. We surmise that there are some players who are not goalkeepers playing well in kicking. The research conducted on the types of these players will be explored later.</p>
<p>We can verify the justification of this clustering by simply looking at the count of goalkeepers and non-goalkeepers. In one sample, we found the total number of non-goalkeepers are 4596 and goalkeepers are 404. The ratio is 11.38. Notice that there are one goalkeeper with 10 other football players in the match so the theoretical ratio should be 10, which is close to 11.38.</p>
</div>
<div id="filtering-guards" class="section level3" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> Filtering guards</h3>
<p>We then take a look at the histograms for non-goalkeepers.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<p>From the histograms, we notice that four attributes contain bimodality. Those are ‘gk_kicking’, ‘standing_tackle’, ‘sliding_tackle’ and ‘marking’. We then make a scatter matrices for these four data.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<p>We realize that the last three features containing a high positive correlation. With bimodality and strong correlation, another clustering could be built. We feel that the clusters with higher score could be from the guards (or defenders).</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-25-1.png" width="672" />
The clustering shows it separates guard and other players.</p>
<p>We can verify the justification of this clustering by simply looking at the count of guards and non-guards. In one sample, we found the total number of non-guards are 2687 and guards are 1909. The ratio is 1.41. Notice that usually the formation of the team are “4-6” like (e.g. 4-4-2, 4-2-3-1, 4-3-3) so the theoretical ratio should be 1.5, while 1.41 is close to this ratio.</p>
<pre><code>## # A tibble: 2 × 2
##   guard counts
##   &lt;dbl&gt;  &lt;int&gt;
## 1     0   1909
## 2     1   2687</code></pre>
</div>
<div id="gk_kicking-issue" class="section level3" number="5.1.3">
<h3><span class="header-section-number">5.1.3</span> gk_kicking issue</h3>
<p>So what happend to “gk_kicking” high score non-goalkeepers? In this part, we would like to take a simple exploration. Firstly, we categorize the players based on whether the “gk_kicking” score is higher than 18. You can see why we choose 18 based on the following plot.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<p>Then we plot the difference between two class on other features. Boxplot is used to avoid overplotting issue and increase the computing efficiency. The result is as followed:</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<p>It seems that there is no significant difference for other features. We also heard from other friends that this feature is trivial for non-goalkeepers. So we decide to discard this feature without further exploration.</p>
</div>
<div id="further-exploration-of-goalkeeper" class="section level3" number="5.1.4">
<h3><span class="header-section-number">5.1.4</span> further exploration of goalkeeper</h3>
<p>We implemented PCA on goalkeepers’ gk features and the biplot is shown as follow:</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<p>We notice that there is high similarity between these tuples: (“gk_diving”, “gk_reflexes”) and (“gk_positioning”, “gk_handling”). That means we could create a new score from these two features in the tuple via dimension reduction.</p>
<p>There seems no clustering but when we make a biplot for all features, a surprising thing happens:</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<p>We see that there are two clusters of data and three clusters of features are generated. Therefore, we could apply KMeans on goalkeepers to generate two clusters.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
</div>
<div id="further-exploration-of-guards" class="section level3" number="5.1.5">
<h3><span class="header-section-number">5.1.5</span> further exploration of guards</h3>
<p><img src="finalproj_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-34-1.png" width="672" /></p>
</div>
<div id="further-exploration-of-non-guards" class="section level3" number="5.1.6">
<h3><span class="header-section-number">5.1.6</span> further exploration of non-guards</h3>
<p><img src="finalproj_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
</div>
</div>
<div id="team-biplot" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> team biplot</h2>
<p><img src="finalproj_files/figure-html/unnamed-chunk-36-1.png" width="672" /></p>
</div>
<div id="combine" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Combine</h2>
</div>
<div id="a-five-factor-team-evaluation-system" class="section level2" number="5.4">
<h2><span class="header-section-number">5.4</span> A Five-Factor Team Evaluation System</h2>
<p>Even though each team has some team attributes associated, it is crucial to include all players’ attributes when evaluating a team. Therefore, in this section, we attempt to aggregate player attributes into a team evaluation.</p>
<p>We encode categorical attributes into one-hot vector and then take the averages for each of attributes across the team (due to the nature that the top players in a team is much more productive than others, we will use the top 6 players in building this system). Then, we run GBDT model for all attributes to find the relationship between attributes and the outcome (whether the team wins the match or the difference between the number of goals scored), and use <a href="https://www.kaggle.com/dansbecker/shap-values">SHAP value</a> to get the the ranking of feature importance. SHAP values interpret the impact of having a certain value for a given feature in comparison to the prediction we’d make if that feature took some baseline value. See this <a href="https://github.com/serendipitylee/SoccerGambling">Github repo</a> for more information.</p>
<p>Following the introduced procedure, we then select the top 20 importance attributes for further analysis, which are <code>overall_rating</code>, <code>potential</code>, <code>ball_control</code>, <code>dribbling</code>, <code>agility</code>, <code>sprint_speed</code>, <code>short_passing</code>, <code>long_passing</code>, <code>vision</code>, <code>crossing</code>, <code>volleys</code>, <code>curve</code>, <code>finishing</code>, <code>standing_tackle</code>, <code>sliding_tackle</code>, <code>marking</code>, <code>interceptions</code>, <code>stamina</code>, <code>positioning</code> and <code>reactions</code>.</p>
<p>To build a simpler and more explainable team evaluation system, we want to reduce our 20 picked attributes to only a few variables. We can first examine the correlation between each pair of attributes to get a sense of how similar between a pair of attributes.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-41-1.png" width="672" /></p>
<p>In a correlation heatmap, each block represents the correlation of two attributes. The darker the color, the stronger the correlation. From the above plot, we can observe some big block with similar degree of the color which reveals that those attributes share similar information and we can further more reduce them to a lower dimension. To achieve that, we first apply clustering algorithm. See this <a href="https://github.com/serendipitylee/SoccerGambling">Github repo</a> for more information.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-43-1.png" width="960" />
In have a better view of the cluster, we reorder the same heatmap and highlight each cluster. The final 5 clusters can be explained as following:</p>
<p><strong>Passing</strong>: <code>long_passing</code>, <code>curve</code>, <code>short_passing</code>, <code>crossing</code>. Those attributes are all about passing.</p>
<p><strong>Overall</strong>: <code>overall_rating</code>, <code>ball_control</code>, <code>potential</code>, <code>reactions</code>. Overall rating and potential are types of generalization, and reactions and ball controlling are important to every situation.</p>
<p><strong>Shot</strong>: <code>vision</code>, <code>finishing</code>, <code>volleys</code>, <code>positioning</code>. It is apparent that finishing is about shots and volleys is a way to shoot. Why vision and positioning are important in getting goals? Although according to the schema visions are highly-correlated with long-passing, good vision and positioning can help with achieving goals. Let’s consider about the goals after the corner kick as an example. With brilliant vision and positioning, there is higher possibility in getting goals.</p>
<p><strong>Tackle</strong>: <code>marking</code>, <code>sliding_tackle</code>, <code>standing_tackle</code>, <code>interceptions</code>. These attributes are about dispossess an opponent of the ball.</p>
<p><strong>Physical</strong>: <code>dribbling</code>, <code>agility</code>, <code>sprint_speed</code>, <code>stamina</code>. Agility, sprint speed and stamina are about physical quality. And dribbling is here because perfect physical quality can lead to better dribbling ability.</p>
<p>We can then apply dimension reduction technique to each cluster and reduce them to a 5 index evaluation system. And each index is a combination of corresponding attributes. See this <a href="https://github.com/serendipitylee/SoccerGambling">Github repo</a> for more information. The result is shown below:</p>
<p>Passing = 0.95 * 0.95 * long passing + 2.02 * curve + 5.50 * short passing + 1.06 * crossing</p>
<p>Overall = 3.54 * overall rating + 2.37 * ball control + 1.27 * potential + 1.09 * reactions</p>
<p>Shot = 3.89 * vision + 1.01 * finishing + 1.83 * volleys + 2.93 * positioning</p>
<p>Tackle = -0.70 * marking + 4.52 * sliding tackle + 1.34 * standing tackle + 5.57 * interceptions</p>
<p>Physical = 6.50 * dribbling + 1.11 * agility + 0.34 * sprint speed + 2.19 * stamina</p>
<p>Now, we can input the averages of the top 6 players in a team and learn their playing styple in the context of those 5 index, and also we can easily compare the styles and ability between teams. Playing around with the interactive plot in the next chapter to understand the system better.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="missing-values.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="interactive-component.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/serendipitylee/SoccerGambling/edit/main/05-results.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/serendipitylee/SoccerGambling/blob/main/05-results.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
