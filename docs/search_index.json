[["index.html", "European Soccer Team Exploration Chapter 1 Introduction", " European Soccer Team Exploration Sicheng Li, Weiyi Jiang and Xianmeng Wang 2021-12-13 Chapter 1 Introduction Modern football, largely believed to be born in England, nowadays widely considered the most popular sports across the world. In Europe, this game is playing an especially essential role in every community as a cultural signature. A lot of cities enjoy their great football reputation and therefore attract tourism and boost economy to a large extent, including Milan, Barcelona, Manchester, Munchen and so on. There are over 1000 clubs playing in over 37 leagues all across Europe, among which there are the so-called “big-5”, the topmost league in England, Spain, Italy, Germany and France, attracting most spotlights around the world. The teams in these leagues are sharing the most part from the large independent economy. The 4 most valuable franchises in the world are currently each valued in excess of $3 billion. The rising ticket prices, growing commercial advertisements and profits by simply selling players are making managing a professional football club a remarkably lucrative venture. Modern football is played by two teams, 11 players each. Players are separated into strikers(ST), midfielders(MF), defenders(DF) and goalkeepers(GK). Only one GK at a time is allowed on the ground, who can touch the ball with hands in the penalty area. The formations of the team and the strategies of playing can be varied and sophisticated. The job of the head coach is to give instructions on the team, investigating the rivals and trying to make the best out of the current squads. The International Association of Football (FIFA), formed in 1904, centralizes the sport’s governance and overall management,including modifying soccer rules, organizing the FIFA World Cup and coordinating events. It has grown to be one of the most effective steward of the sport globally. In this project, we are going to use the data of the players and teams to analyze the skills of each player, cluster the players based on the attributes and explore playing style patterns of each team from their star players. "],["data-sources.html", "Chapter 2 Data sources 2.1 Data description 2.2 Issues and Problems", " Chapter 2 Data sources https://sofifa.com: The player and team datasets of the game FIFA football. The popular game FIFA series, authorized by FIFA and developed by EAsports, gives a simulation environment of the real football world. FIFA provides player and team attributes based on real world performance and potential. The dataset is widely used in football related data science tasks. https://www.football-data.co.uk/data.php: A general data website providing current matches, betting odds and recent team stats. 2.1 Data description The data used for this project are downloaded and crawled from different related open data websites. After organizing we have the following datasets: team Reference dataset for the relevant teams. Attributes: team_id, team_long_name, team_short_name Key: team_id Source match Match outcomes dataset. Attributes: 62 columns including match scores and lineup of each team. Key: match_id Source player_attributes skill attributes for players. Attributes: 40 columns including 35 categories of football playing skills where preferred_foot,attacking_work_rate and defensive_work_rate are categorical data. The others are numerical data ranging from 0-99. Key: player_id Source team_attributes playing style for teams. Attributes: 23 columns including 20 categories of team playing styles where defenceTeamWidth, defenceAggression, buildUpPlaySpeed, buildUpPlayDribbling, buildUpPlayPassing, chanceCreationPassing, chanceCreationCrossing, chanceCreationShooting and defenceAggression are numerical data ranging from 0-99. The others are categorical data indicating the playing style of a team. Key: team_id Source 2.2 Issues and Problems The data has provided most of the important information that are needed in this project but it has some shortcomings. On the one hand, there are missing values in match data, player attribute data and team attribute data. We handled the missing values with different methods in Chapter4-missing values. On the other hand, the player attributes data has some players playing in minor leagues that cannot be found in player dataset. As a result, in this project we will be only analyzing the 11 most important leagues listed here. "],["data-transformation.html", "Chapter 3 Data transformation 3.1 Team attributes", " Chapter 3 Data transformation For the player_attribute data, we crawled the data from https://sofifa.com with python requests package and parsel package into json format. We used regular expressions to match the data in the website and the attributes that we need. We further parsed the json format into csv for R to read. The python script is attached in the repo. For the other data, we directly downloaded them from source website with csv format. We did some data cleaning work including matching player id and matching team id due to the representation of player and team between two websites are slightly different. We chose the intersection between the two datasets as they have different players in different leagues. In general, FIFA data covers more player than uk football data. 3.1 Team attributes From missing data part we notice that the feature “buildUpPlayDribbling” contains NA values when “buildUpPlayDribblingClass” is little. Firstly we need to separately view the boxplot of “buildUpPlayDribbling” by “buildUpPlayDribblingClass” So different classes have different scores. Because we need to fill NA value in the Little class, we only draw the histogram of little class and we see that The result of shapiro test shows the p value is 0.0001525 so we would like to fill the NA value by the maximum likelihood estimation of the normal distribution (i.e. mean). "],["missing-values.html", "Chapter 4 Missing values 4.1 Team attributes 4.2 Player attributes 4.3 Match data", " Chapter 4 Missing values In the dataset, only team attributes, player attributes and match contain NA values. 4.1 Team attributes We see that only “buildUpPlayDribbling” has NA values. It is easy to think that the NA pattern of this attribute has something to do with “buildUpPlayDribblingClass”. So we take a look at it. As you can see, NA values are all in “little” class and nearly all sample with this class has an NA value in the score. 4.2 Player attributes As we can see, nearly all samples exist with no NA value. So in the data transformation we just throw them away. 4.3 Match data Since there are so many attributes in match data, we split it in two parts. One is about players and the other is about the bet odds. Other attributes, including the column country_id, league_id, season, stage, date, match_id, home_team_id, away_team_id, home_team_goal and away_team_goal has no missing data in it. We firstly take a look at the players_id in the data. Since there is no intrinsic difference for players with different index, what we do here is to count the number of missing values of players in the data. So as wee can see most data sample contains all 22 players’ id. Then in the data preprocessing session we just need to drop rows with NA values in players’ id. We can see that there are numerous types of missing patterns about bets. Since we assume bets are irrelevant of the match result, this complex bet missing patterns are trivial to us. "],["results.html", "Chapter 5 Results 5.1 Player Attributes 5.2 team biplot 5.3 Combine 5.4 A Five-Factor Team Evaluation System", " Chapter 5 Results 5.1 Player Attributes There are 183978 players in this dataframe and only about 3000 rows contain NA values. Therefore, directly dropping NA variables is feasible. After that, we sample 5000 of them for a convenient plot. 5.1.1 Filtering goalkeepers We firstly check the normality of each column We firstly notice that for features starting with the characters “gk”, there is a significant deviance to normality. It is obviously because the goalkeepers are significantly better than other football players in these attributes. Since there is no information about whether one player is in charge of saving the goal. We decided to implement K-means clustering to classify them. We will not elaborate the specific ways to solve the problem since the project focuses on EDA. Before we implement this, we take a look at the histograms of “gk” features: It is easy to notice that for these features, there are two clusters and probably the higher score is for goalkeepers and the lower score is for other players. We notice that except gk_kicking, all clusters clearly separated the supposed goalkeepers and other players. We surmise that there are some players who are not goalkeepers playing well in kicking. The research conducted on the types of these players will be explored later. We can verify the justification of this clustering by simply looking at the count of goalkeepers and non-goalkeepers. In one sample, we found the total number of non-goalkeepers are 4596 and goalkeepers are 404. The ratio is 11.38. Notice that there are one goalkeeper with 10 other football players in the match so the theoretical ratio should be 10, which is close to 11.38. 5.1.2 Filtering guards We then take a look at the histograms for non-goalkeepers. From the histograms, we notice that four attributes contain bimodality. Those are ‘gk_kicking’, ‘standing_tackle’, ‘sliding_tackle’ and ‘marking’. We then make a scatter matrices for these four data. We realize that the last three features containing a high positive correlation. With bimodality and strong correlation, another clustering could be built. We feel that the clusters with higher score could be from the guards (or defenders). The clustering shows it separates guard and other players. We can verify the justification of this clustering by simply looking at the count of guards and non-guards. In one sample, we found the total number of non-guards are 2687 and guards are 1909. The ratio is 1.41. Notice that usually the formation of the team are “4-6” like (e.g. 4-4-2, 4-2-3-1, 4-3-3) so the theoretical ratio should be 1.5, while 1.41 is close to this ratio. ## # A tibble: 2 × 2 ## guard counts ## &lt;dbl&gt; &lt;int&gt; ## 1 0 1909 ## 2 1 2687 5.1.3 gk_kicking issue So what happend to “gk_kicking” high score non-goalkeepers? In this part, we would like to take a simple exploration. Firstly, we categorize the players based on whether the “gk_kicking” score is higher than 18. You can see why we choose 18 based on the following plot. Then we plot the difference between two class on other features. Boxplot is used to avoid overplotting issue and increase the computing efficiency. The result is as followed: It seems that there is no significant difference for other features. We also heard from other friends that this feature is trivial for non-goalkeepers. So we decide to discard this feature without further exploration. 5.1.4 further exploration of goalkeeper We implemented PCA on goalkeepers’ gk features and the biplot is shown as follow: We notice that there is high similarity between these tuples: (“gk_diving”, “gk_reflexes”) and (“gk_positioning”, “gk_handling”). That means we could create a new score from these two features in the tuple via dimension reduction. There seems no clustering but when we make a biplot for all features, a surprising thing happens: We see that there are two clusters of data and three clusters of features are generated. Therefore, we could apply KMeans on goalkeepers to generate two clusters. 5.1.5 further exploration of guards 5.1.6 further exploration of non-guards 5.2 team biplot 5.3 Combine Here we would like to explore how each team was really formed. We firstly classifies the types of goalkeepers and guards(defenders) or non-guards(attackers). Finally we would like to have a try to see the relationship between team formation and the odds to win. We firstly take a look at the goalkeepers formation. Below are for It looks like some teams have 0 or more than 1 goalkeeper. That is because some players are misclassified. 5.4 A Five-Factor Team Evaluation System Even though each team has some team attributes associated, it is crucial to include all players’ attributes when evaluating a team. Therefore, in this section, we attempt to aggregate player attributes into a team evaluation. We encode categorical attributes into one-hot vector and then take the averages for each of attributes across the team (due to the nature that the top players in a team is much more productive than others, we will use the top 6 players in building this system). Then, we run GBDT model for all attributes to find the relationship between attributes and the outcome (whether the team wins the match or the difference between the number of goals scored), and use SHAP value to get the the ranking of feature importance. SHAP values interpret the impact of having a certain value for a given feature in comparison to the prediction we’d make if that feature took some baseline value. See this Github repo for more information. Following the introduced procedure, we then select the top 20 importance attributes for further analysis, which are overall_rating, potential, ball_control, dribbling, agility, sprint_speed, short_passing, long_passing, vision, crossing, volleys, curve, finishing, standing_tackle, sliding_tackle, marking, interceptions, stamina, positioning and reactions. To build a simpler and more explainable team evaluation system, we want to reduce our 20 picked attributes to only a few variables. We can first examine the correlation between each pair of attributes to get a sense of how similar between a pair of attributes. In a correlation heatmap, each block represents the correlation of two attributes. The darker the color, the stronger the correlation. From the above plot, we can observe some big block with similar degree of the color which reveals that those attributes share similar information and we can further more reduce them to a lower dimension. To achieve that, we first apply clustering algorithm. See this Github repo for more information. In have a better view of the cluster, we reorder the same heatmap and highlight each cluster. The final 5 clusters can be explained as following: Passing: long_passing, curve, short_passing, crossing. Those attributes are all about passing. Overall: overall_rating, ball_control, potential, reactions. Overall rating and potential are types of generalization, and reactions and ball controlling are important to every situation. Shot: vision, finishing, volleys, positioning. It is apparent that finishing is about shots and volleys is a way to shoot. Why vision and positioning are important in getting goals? Although according to the schema visions are highly-correlated with long-passing, good vision and positioning can help with achieving goals. Let’s consider about the goals after the corner kick as an example. With brilliant vision and positioning, there is higher possibility in getting goals. Tackle: marking, sliding_tackle, standing_tackle, interceptions. These attributes are about dispossess an opponent of the ball. Physical: dribbling, agility, sprint_speed, stamina. Agility, sprint speed and stamina are about physical quality. And dribbling is here because perfect physical quality can lead to better dribbling ability. We can then apply dimension reduction technique to each cluster and reduce them to a 5 index evaluation system. And each index is a combination of corresponding attributes. See this Github repo for more information. The result is shown below: Passing = 0.95 * 0.95 * long passing + 2.02 * curve + 5.50 * short passing + 1.06 * crossing Overall = 3.54 * overall rating + 2.37 * ball control + 1.27 * potential + 1.09 * reactions Shot = 3.89 * vision + 1.01 * finishing + 1.83 * volleys + 2.93 * positioning Tackle = -0.70 * marking + 4.52 * sliding tackle + 1.34 * standing tackle + 5.57 * interceptions Physical = 6.50 * dribbling + 1.11 * agility + 0.34 * sprint speed + 2.19 * stamina Now, we can input the averages of the top 6 players in a team and learn their playing styple in the context of those 5 index, and also we can easily compare the styles and ability between teams. Playing around with the interactive plot in the next chapter to understand the system better. "],["interactive-component.html", "Chapter 6 Interactive component", " Chapter 6 Interactive component Radar chart With this interactive plot, you can explore how an attribute affect the evaluation of a team. Use the slider to change the value of a specific attribute and the value of some index will change accordingly. All five index are projected to a scale from 0 to 100 for an easier understanding. The value for each index is in the parentheses next to the certain index. Note that the value below represent an average of the top 6 players in a team Long Passing = … Curve = … Short Passing = … Crossing = … Overall Rating = … Ball Control = … Potential = … Reactions = … Vision = … Finishing = … Volleys = … Positioning = … Marking = … Sliding Tackle = … Standing Tackle = … Interceptions = … Dribbling = … Agility = … Sprint Speed = … Stamina = … body { overflow: hidden; margin: 0; font-size: 12px; font-family: \"Helvetica Neue\", Helvetica; } #title { position:absolute; top: 350px; left: 600px; } #chart { position: absolute; top: 400px; left: 600px; } Radar Plot Representing Five-Factor Evaluation System "],["conclusion.html", "Chapter 7 Conclusion 7.1 Results 7.2 Future Work", " Chapter 7 Conclusion 7.1 Results In this project, we studied player attributes data from FIFA football game, cleaned it and handled the missing values in a reasonable way. We succeeded to find patterns for players who are goalkeepers, defenders and other positions. After further exploration, we found that the player attributes is more detailed and have more information than team data. We thus provide a five-factor team evaluate model, aggregating 20 attributes into five evaluating dimensions of a team. We also designed the automatic evaluating system which evaluates the team with the average attributes of the top players. 7.2 Future Work We will further update the system with new football data and we will try to transfer the model into other sports, such as basketball, American football etc. We will also use the evaluating system to predict the match outcome. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
