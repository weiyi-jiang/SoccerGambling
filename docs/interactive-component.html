<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Interactive component | European Soccer Team Exploration</title>
  <meta name="description" content="Chapter 6 Interactive component | European Soccer Team Exploration" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Interactive component | European Soccer Team Exploration" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Interactive component | European Soccer Team Exploration" />
  
  
  

<meta name="author" content="Sicheng Li, Weiyi Jiang and Xianmeng Wang" />


<meta name="date" content="2021-12-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="results.html"/>
<link rel="next" href="conclusion.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">European Soccer</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#data-description"><i class="fa fa-check"></i><b>2.1</b> Data description</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#issues-and-problems"><i class="fa fa-check"></i><b>2.2</b> Issues and Problems</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#team-attributes"><i class="fa fa-check"></i><b>3.1</b> Team attributes</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#team-attributes-1"><i class="fa fa-check"></i><b>4.1</b> Team attributes</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#player-attributes"><i class="fa fa-check"></i><b>4.2</b> Player attributes</a></li>
<li class="chapter" data-level="4.3" data-path="missing-values.html"><a href="missing-values.html#match-data"><i class="fa fa-check"></i><b>4.3</b> Match data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#player-attributes-1"><i class="fa fa-check"></i><b>5.1</b> Player Attributes</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#filtering-goalkeepers"><i class="fa fa-check"></i><b>5.1.1</b> Filtering goalkeepers</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#filtering-guards"><i class="fa fa-check"></i><b>5.1.2</b> Filtering guards</a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#gk_kicking-issue"><i class="fa fa-check"></i><b>5.1.3</b> gk_kicking issue</a></li>
<li class="chapter" data-level="5.1.4" data-path="results.html"><a href="results.html#further-exploration-of-goalkeeper"><i class="fa fa-check"></i><b>5.1.4</b> further exploration of goalkeeper</a></li>
<li class="chapter" data-level="5.1.5" data-path="results.html"><a href="results.html#further-exploration-of-guards"><i class="fa fa-check"></i><b>5.1.5</b> further exploration of guards</a></li>
<li class="chapter" data-level="5.1.6" data-path="results.html"><a href="results.html#further-exploration-of-non-guards"><i class="fa fa-check"></i><b>5.1.6</b> further exploration of non-guards</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#team-biplot"><i class="fa fa-check"></i><b>5.2</b> team biplot</a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#combine"><i class="fa fa-check"></i><b>5.3</b> Combine</a></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#five-factor-model"><i class="fa fa-check"></i><b>5.4</b> Five-Factor Model</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">European Soccer Team Exploration</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interactive-component" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> Interactive component</h1>
<script src="https://d3js.org/d3.v6.min.js"></script>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<title>
Radar chart
</title>
<p>
Although team attributes are given in the data
</p>
<h4>
Input the average of each attributes for the top 5 players
</h4>
<p>
<label for="long_passing" 
    style="display: inline-block; width: 150px; text-align: left">
Long Passing = <span id="long_passing-value">…</span>
</label>
<input type="range" min="1" max="100" id="long_passing">
</p>
<p>
<label for="curve" 
    style="display: inline-block; width: 150px; text-align: left">
Curve = <span id="curve-value">…</span>
</label>
<input type="range" min="1" max="100" id="curve">
</p>
<p>
<label for="short_passing" 
    style="display: inline-block; width: 150px; text-align: left">
Short Passing = <span id="short_passing-value">…</span>
</label>
<input type="range" min="1" max="100" id="short_passing">
</p>
<p>
<label for="crossing" 
    style="display: inline-block; width: 150px; text-align: left">
Crossing = <span id="crossing-value">…</span>
</label>
<input type="range" min="1" max="100" id="crossing">
</p>
<p>
<label for="overall_rating" 
    style="display: inline-block; width: 150px; text-align: left">
Overall Rating = <span id="overall_rating-value">…</span>
</label>
<input type="range" min="1" max="100" id="overall_rating">
</p>
<p>
<label for="ball_control" 
    style="display: inline-block; width: 150px; text-align: left">
Ball Control = <span id="ball_control-value">…</span>
</label>
<input type="range" min="1" max="100" id="ball_control">
</p>
<p>
<label for="potential" 
    style="display: inline-block; width: 150px; text-align: left">
Potential = <span id="potential-value">…</span>
</label>
<input type="range" min="1" max="100" id="potential">
</p>
<p>
<label for="reactions" 
    style="display: inline-block; width: 150px; text-align: left">
Reactions = <span id="reactions-value">…</span>
</label>
<input type="range" min="1" max="100" id="reactions">
</p>
<p>
<label for="vision" 
    style="display: inline-block; width: 150px; text-align: left">
Vision = <span id="vision-value">…</span>
</label>
<input type="range" min="1" max="100" id="vision">
</p>
<p>
<label for="finishing" 
    style="display: inline-block; width: 150px; text-align: left">
Finishing = <span id="finishing-value">…</span>
</label>
<input type="range" min="1" max="100" id="finishing">
</p>
<p>
<label for="volleys" 
    style="display: inline-block; width: 150px; text-align: left">
Volleys = <span id="volleys-value">…</span>
</label>
<input type="range" min="1" max="100" id="volleys">
</p>
<p>
<label for="positioning" 
    style="display: inline-block; width: 150px; text-align: left">
Positioning = <span id="positioning-value">…</span>
</label>
<input type="range" min="1" max="100" id="positioning">
</p>
<p>
<label for="marking" 
    style="display: inline-block; width: 150px; text-align: left">
Marking = <span id="marking-value">…</span>
</label>
<input type="range" min="1" max="100" id="marking">
</p>
<p>
<label for="sliding_tackle" 
    style="display: inline-block; width: 150px; text-align: left">
Sliding Tackle = <span id="sliding_tackle-value">…</span>
</label>
<input type="range" min="1" max="100" id="sliding_tackle">
</p>
<p>
<label for="standing_tackle" 
    style="display: inline-block; width: 150px; text-align: left">
Standing Tackle = <span id="standing_tackle-value">…</span>
</label>
<input type="range" min="1" max="100" id="standing_tackle">
</p>
<p>
<label for="interceptions" 
    style="display: inline-block; width: 150px; text-align: left">
Interceptions = <span id="interceptions-value">…</span>
</label>
<input type="range" min="1" max="100" id="interceptions">
</p>
<p>
<label for="dribbling" 
    style="display: inline-block; width: 150px; text-align: left">
Dribbling = <span id="dribbling-value">…</span>
</label>
<input type="range" min="1" max="100" id="dribbling">
</p>
<p>
<label for="agility" 
    style="display: inline-block; width: 150px; text-align: left">
Agility = <span id="agility-value">…</span>
</label>
<input type="range" min="1" max="100" id="agility">
</p>
<p>
<label for="sprint_speed" 
    style="display: inline-block; width: 150px; text-align: left">
Sprint Speed = <span id="sprint_speed-value">…</span>
</label>
<input type="range" min="1" max="100" id="sprint_speed">
</p>
<p>
<label for="stamina" 
    style="display: inline-block; width: 150px; text-align: left; font-size=12px">
Stamina = <span id="stamina-value">…</span>
</label>
<input type="range" min="1" max="100" id="stamina">
</p>
<style>
        body {
          overflow: hidden;
          margin: 0;
          font-size: 12px;
          font-family: "Helvetica Neue", Helvetica;
        }
        
        #title {
          position:absolute;
          top: 350px;
          left: 700px;
        }

        #chart {
          position: absolute;
          top: 400px;
          left: 600px;
        }   
    </style>
</head>
<body>
<div id="body">
<div id="title">
<p>
Title
</p>
</div>
<div id="chart">

</div>
</div>
<script>

  var RadarChart = {
    draw: function(id, d, options){
      var cfg = {
          radius: 5,
          w: 400,
          h: 400,
          factor: 1,
          factorLegend: .85,
          levels: 3,
          maxValue: 0,
          radians: 2 * Math.PI,
          opacityArea: 0.5,
          ToRight: 5,
          TranslateX: 80,
          TranslateY: 30,
          ExtraWidthX: 100,
          ExtraWidthY: 100,
          color: d3.scaleOrdinal(d3.schemeCategory10)
      };
    
        if('undefined' !== typeof options){
          for(var i in options){
            if('undefined' !== typeof options[i]){
              cfg[i] = options[i];
            }
          }
        }
        cfg.maxValue = 100
        var allAxis = (d[0].map(function(i, j){return i.axis}));
        var allValues = (d[0].map(function(i, j){return i.value}));
        var total = allAxis.length;
        var radius = cfg.factor*Math.min(cfg.w/2, cfg.h/2);
    d3.select(id).select("svg").remove();
    
        var g = d3.select(id)
                    .append("svg")
                    .attr("width", cfg.w+cfg.ExtraWidthX)
                    .attr("height", cfg.h+cfg.ExtraWidthY)
                    .append("g")
                    .attr("transform", "translate(" + cfg.TranslateX + "," + cfg.TranslateY + ")");

         var tooltip;
    
    //Circular segments
    for(var j=0; j<cfg.levels-1; j++){
      var levelFactor = cfg.factor*radius*((j+1)/cfg.levels);
      g.selectAll(".levels")
       .data(allAxis)
       .enter()
       .append("svg:line")
       .attr("x1", function(d, i){return levelFactor*(1-cfg.factor*Math.sin(i*cfg.radians/total));})
       .attr("y1", function(d, i){return levelFactor*(1-cfg.factor*Math.cos(i*cfg.radians/total));})
       .attr("x2", function(d, i){return levelFactor*(1-cfg.factor*Math.sin((i+1)*cfg.radians/total));})
       .attr("y2", function(d, i){return levelFactor*(1-cfg.factor*Math.cos((i+1)*cfg.radians/total));})
       .attr("class", "line")
       .style("stroke", "grey")
       .style("stroke-opacity", "0.75")
       .style("stroke-width", "0.3px")
       .attr("transform", "translate(" + (cfg.w/2-levelFactor) + ", " + (cfg.h/2-levelFactor) + ")");
    }

    for(var j=0; j<cfg.levels; j++){
      var levelFactor = cfg.factor*radius*((j+1)/cfg.levels);
      g.selectAll(".levels")
       .data([1])
       .enter()
       .append("svg:text")
       .attr("x", function(d){return levelFactor*(1-cfg.factor*Math.sin(0));})
       .attr("y", function(d){return levelFactor*(1-cfg.factor*Math.cos(0));})
       .attr("class", "legend")
       .style("font-family", "sans-serif")
       .style("font-size", "10px")
       .attr("transform", "translate(" + (cfg.w/2-levelFactor + cfg.ToRight) + ", " + (cfg.h/2-levelFactor) + ")")
       .attr("fill", "#737373")
       .text((j+1)*cfg.maxValue/cfg.levels);
    }
    
    series = 0;

    var axis = g.selectAll(".axis")
            .data(allAxis)
            .enter()
            .append("g")
            .attr("class", "axis");

    axis.append("line")
        .attr("x1", cfg.w/2)
        .attr("y1", cfg.h/2)
        .attr("x2", function(d, i){return cfg.w/2*(1-cfg.factor*Math.sin(i*cfg.radians/total));})
        .attr("y2", function(d, i){return cfg.h/2*(1-cfg.factor*Math.cos(i*cfg.radians/total));})
        .attr("class", "line")
        .style("stroke", "grey")
        .style("stroke-width", "1px");

    axis.append("text")
        .attr("class", "legend")
        .text(function(d, i){return d + " (" + Math.round(allValues[i] * 100) / 100 + ")"})
        .style("font-family", "sans-serif")
        .style("font-size", "11px")
        .attr("text-anchor", "middle")
        .attr("dy", "1.5em")
        .attr("transform", function(d, i){return "translate(0, -10)"})
        .attr("x", function(d, i){return cfg.w/2*(1-cfg.factorLegend*Math.sin(i*cfg.radians/total))-60*Math.sin(i*cfg.radians/total);})
        .attr("y", function(d, i){return cfg.h/2*(1-Math.cos(i*cfg.radians/total))-20*Math.cos(i*cfg.radians/total);});

 
    d.forEach(function(y, x){
      dataValues = [];
      g.selectAll(".nodes")
        .data(y, function(j, i){
          dataValues.push([
            cfg.w/2*(1-(parseFloat(Math.max(j.value, 0))/cfg.maxValue)*cfg.factor*Math.sin(i*cfg.radians/total)), 
            cfg.h/2*(1-(parseFloat(Math.max(j.value, 0))/cfg.maxValue)*cfg.factor*Math.cos(i*cfg.radians/total))
          ]);
        });
      dataValues.push(dataValues[0]);
      g.selectAll(".area")
                     .data([dataValues])
                     .enter()
                     .append("polygon")
                     .attr("class", "radar-chart-serie"+series)
                     .style("stroke-width", "2px")
                     .style("stroke", cfg.color(series))
                     .attr("points",function(d) {
                         var str="";
                         for(var pti=0;pti<d.length;pti++){
                             str=str+d[pti][0]+","+d[pti][1]+" ";
                         }
                         return str;
                      })
                     .style("fill", function(j, i){return cfg.color(series)})
                     .style("fill-opacity", cfg.opacityArea)
                     .on('mouseover', function (d){
                                        z = "polygon."+d3.select(this).attr("class");
                                        g.selectAll("polygon")
                                         .transition(200)
                                         .style("fill-opacity", 0.1); 
                                        g.selectAll(z)
                                         .transition(200)
                                         .style("fill-opacity", .7);
                                      })
                     .on('mouseout', function(){
                                        g.selectAll("polygon")
                                         .transition(200)
                                         .style("fill-opacity", cfg.opacityArea);
                     });
      series++;
    });
    series=0;


    d.forEach(function(y, x){
      g.selectAll(".nodes")
        .data(y).enter()
        .append("svg:circle")
        .attr("class", "radar-chart-serie"+series)
        .attr('r', cfg.radius)
        .attr("alt", function(j){return Math.max(j.value, 0)})
        .attr("cx", function(j, i){
          dataValues.push([
            cfg.w/2*(1-(parseFloat(Math.max(j.value, 0))/cfg.maxValue)*cfg.factor*Math.sin(i*cfg.radians/total)), 
            cfg.h/2*(1-(parseFloat(Math.max(j.value, 0))/cfg.maxValue)*cfg.factor*Math.cos(i*cfg.radians/total))
        ]);
        return cfg.w/2*(1-(Math.max(j.value, 0)/cfg.maxValue)*cfg.factor*Math.sin(i*cfg.radians/total));
        })
        .attr("cy", function(j, i){
          return cfg.h/2*(1-(Math.max(j.value, 0)/cfg.maxValue)*cfg.factor*Math.cos(i*cfg.radians/total));
        })
        .attr("data-id", function(j){return j.axis})
        .style("fill", cfg.color(series)).style("fill-opacity", .9)
        .on('mouseover', function (d){
                    newX =  parseFloat(d3.select(this).attr('cx')) - 10;
                    newY =  parseFloat(d3.select(this).attr('cy')) - 5;
                    
                    tooltip
                        .attr('x', newX)
                        .attr('y', newY)
                        .text(d.value)
                        .transition(200)
                        .style('opacity', 1);
                        
                    z = "polygon."+d3.select(this).attr("class");
                    g.selectAll("polygon")
                        .transition(200)
                        .style("fill-opacity", 0.1); 
                    g.selectAll(z)
                        .transition(200)
                        .style("fill-opacity", .7);
                  })
        .on('mouseout', function(){
                    tooltip
                        .transition(200)
                        .style('opacity', 0);
                    g.selectAll("polygon")
                        .transition(200)
                        .style("fill-opacity", cfg.opacityArea);
                  })
        .append("svg:title")
        .text(function(j){return Math.max(j.value, 0)});

      series++;
    });
    //Tooltip
    tooltip = g.append('text')
               .style('opacity', 0)
               .style('font-family', 'sans-serif')
               .style('font-size', '20px');
  }
};


var w = 400,
      h = 400;

var colorscale = d3.scaleOrdinal(d3.schemeCategory10);

var long_passing = 50;
var curve = 50;
var short_passing = 50;
var crossing = 50;
var overall_rating = 50;
var ball_control = 50;
var potential = 50
var reactions = 50;
var vision = 50;
var finishing = 50;
var volleys = 50;
var positioning = 50;
var marking = 50;
var sliding_tackle = 50;
var standing_tackle = 50;
var interceptions = 50;
var dribbling = 50;
var agility = 50;
var sprint_speed = 50;
var stamina = 50;

// when the input range changes update the circle 
d3.select("#long_passing").on("input", function() {
  long_passing = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#curve").on("input", function() {
  curve = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#short_passing").on("input", function() {
  short_passing = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#crossing").on("input", function() {
  crossing = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#overall_rating").on("input", function() {
  overall_rating = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#ball_control").on("input", function() {
  ball_control = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#potential").on("input", function() {
  potential = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#reactions").on("input", function() {
  reactions = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#vision").on("input", function() {
  vision = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#finishing").on("input", function() {
  finishing = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#volleys").on("input", function() {
  volleys = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#positioning").on("input", function() {
  positioning = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#marking").on("input", function() {
  marking = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#sliding_tackle").on("input", function() {
  sliding_tackle = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#standing_tackle").on("input", function() {
  standing_tackle = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#interceptions").on("input", function() {
  interceptions = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#dribbling").on("input", function() {
  dribbling = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#agility").on("input", function() {
  agility = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#sprint_speed").on("input", function() {
  sprint_speed = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});
d3.select("#stamina").on("input", function() {
  stamina = +this.value
  update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);
});

// Initial starting radius of the circle 
update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina);

// update the elements
function update(long_passing, curve, short_passing, crossing, overall_rating, ball_control, potential, reactions, vision, finishing, volleys, positioning, marking, sliding_tackle, standing_tackle, interceptions, dribbling, agility, sprint_speed, stamina) {

  // adjust the text on the range slider
  d3.select("#long_passing-value").text(long_passing);
  d3.select("#long_passing").property("value", long_passing);
  d3.select("#curve-value").text(curve);
  d3.select("#curve").property("value", curve);
  d3.select("#short_passing-value").text(short_passing);
  d3.select("#short_passing").property("value", short_passing);
  d3.select("#crossing-value").text(crossing);
  d3.select("#crossing").property("value", crossing);
  d3.select("#overall_rating-value").text(overall_rating);
  d3.select("#overall_rating").property("value", overall_rating);
  d3.select("#ball_control-value").text(ball_control);
  d3.select("#ball_control").property("value", ball_control);
  d3.select("#potential-value").text(potential);
  d3.select("#potential").property("value", potential);
  d3.select("#reactions-value").text(reactions);
  d3.select("#reactions").property("value", reactions);
  d3.select("#vision-value").text(vision);
  d3.select("#vision").property("value", vision);
  d3.select("#finishing-value").text(finishing);
  d3.select("#finishing").property("value", finishing);
  d3.select("#volleys-value").text(volleys);
  d3.select("#volleys").property("value", volleys);
  d3.select("#positioning-value").text(positioning);
  d3.select("#positioning").property("value", positioning);
  d3.select("#marking-value").text(marking);
  d3.select("#marking").property("value", marking);
  d3.select("#sliding_tackle-value").text(sliding_tackle);
  d3.select("#sliding_tackle").property("value", sliding_tackle);
  d3.select("#standing_tackle-value").text(standing_tackle);
  d3.select("#standing_tackle").property("value", standing_tackle);
  d3.select("#interceptions-value").text(interceptions);
  d3.select("#interceptions").property("value", interceptions);
  d3.select("#dribbling-value").text(dribbling);
  d3.select("#dribbling").property("value", dribbling);
  d3.select("#agility-value").text(agility);
  d3.select("#agility").property("value", agility);
  d3.select("#sprint_speed-value").text(sprint_speed);
  d3.select("#sprint_speed").property("value", sprint_speed);
  d3.select("#stamina-value").text(stamina);
  d3.select("#stamina").property("value", stamina);
  
  //Legend titles
//Data
  let data = [
      {axis:"Overall",value:(3.54 * overall_rating + 2.37 * ball_control + 1.27 * potential + 1.09 * reactions)/(3.54+2.37+1.27+1.09)},
      {axis:"Passing",value:(0.95 * long_passing + 2.02 * curve + 5.50 * short_passing + 1.06 * crossing)/(0.95+2.02+5.50+1.06)},
      {axis:"Physical",value:(6.50 * dribbling + 1.11 * agility + 0.34 * sprint_speed + 2.19 * stamina)/(6.50+1.11+0.34+2.19)},
      {axis:"Tackle",value:(-0.70 * marking + 4.52 * sliding_tackle + 1.34 * standing_tackle + 5.57 * interceptions)/(4.52+1.34+5.57)},
      {axis:"Shot",value:(3.89 * vision + 1.01 * finishing + 1.83 * volleys + 2.93 * positioning)/(3.89+1.01+1.83+2.93)}
  ]

  //Options for the Radar chart, other than default
  var mycfg = {
    w: w,
    h: h,
    maxValue: 1,
    levels: 5,
    ExtraWidthX: 200
  }

  //Call function to draw the Radar chart
  //Will expect that data is in %'s
  RadarChart.draw("#chart", [data], mycfg);
  
}


    </script>
</body>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="results.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/serendipitylee/SoccerGambling/edit/main/06-interactive.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/serendipitylee/SoccerGambling/blob/main/06-interactive.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
